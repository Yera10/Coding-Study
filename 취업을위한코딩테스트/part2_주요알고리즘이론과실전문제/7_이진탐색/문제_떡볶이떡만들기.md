```python
# SOLUTION
def binary_search(arr, target, s, e):
    if s > e:
        return s
    
    m = (s+e)//2

    if arr[m] < target:
        return binary_search(arr, target, m+1, e)
    elif arr[m] > target:
        return binary_search(arr, target, s, m-1)
    else:
        return m

def solution(arr, N, M):
    arr.sort(reverse=True)

    # diff & cnt 만들기
    diffs = []
    cnts = []
    c = 0
    for i in range(N-1):
        d = arr[i] - arr[i+1]
        c += 1
        if d != 0:
            diffs.append(d)
            cnts.append(c)
    diffs.append(arr[-1])
    cnts.append(c+1)

    # dduck_diff & dduck 만들기
    dduk_diff = [d*c for d,c in zip(diffs, cnts)]
    s = 0
    dduk = []
    for dd in dduk_diff:
        s += dd
        dduk.append(s)
    
    return binary_search(dduk, M, 0, len(dduk)-1)

    


# TEST
N, M = 4, 6
arr = [19, 15, 10, 17]
print(solution(arr, N, M))  # 15

N, M = 5, 6
arr = [19, 15, 10, 17, 17]
print(solution(arr, N, M))  # 15

N, M = 6, 6
arr = [19, 15, 10, 17, 17, 19]
print(solution(arr, N, M))  # 15
```